# DNS?

### DNS : 인터넷의 전화번호부
인터넷에 연결된 장치는 각자 고유한 IP주소를 가지고 있디. DNS서버를 사용하면 복잡하고 이상하게 생긴 암호 대신 영어로딘 이해하기 쉬운 도메인 주소로 웹에 접근할 수 있다.

### 웹 로딩에는 4개의 DNS 서버가 참여한다.
1. DNS recursor : 도서관의 사서라고 생각하면 된다. 웹 브라우저와 같은 애플리케이션을 통해
클라이언트 시스템으로부터 쿼리를 수신하도록 설계된 서버이다.
2. root nameserver : 사람이 읽을 수 있는 호스트 이름을 IP주소로 변환한다. 
3. TLD nameserver : 호스트 주소의 마지막 부분을 호스팅한다. google.com의 'com'을 호스팅한다.
4. Authoritative nameserver : 요청된 레코드에 접근을 할 수 있으면 다시 DNS Recursor에게 반환

### DNS의 조회 단계
1. 브라우저 캐시 확인 : 사용자가 웹 주소를 입력하면 브라우저는 먼저 자신의 캐시에 올려둔 도메인 IP 주소를 찾는다. 최근 방문한 주소의 경우 캐시에 올라가있어 빠르게 찾을 확률이 높다.
2. 시스템 캐시 확인 : 브라우저 캐시에서 IP 주소를 찾지 못했다면 DNS 캐시로 넘어간다.
3. 라우터 캐시 확인 : DNS 캐시에도 없으면 네트워크 라우터 캐시를 확인한다.
4. ISP의 DNS 서버 : 그래도 찾지 못했다면 DNS 서버로 조회 요청을 보낸다.
5. 루트 DNS 서버 조회 : ISP의 DNS에서 찾지 못했을 경우 루트 DNS 서버에 요청을 보낸다. 
해당 도메인의 최상의 도메인 .com, .net을 관리하는 서버로 요청을 보낸다.
6. TLD 서버 조회 : 루트 서버는 해당 도메인의 최상의 도메인을 관리하는 TLD서버로 요청을 보낸다 
7. 권한 있는 DNS 서버 조최 : TLD 서버는 해당 도메인을 관리하는 권한이 있는(렌더링한 문서가 있는)DNS 서버 정보를 DNS 조회 요청자에게 제공한다.
8. 도메인의 IP 주소 변환 : 권한있는 DNS는 최종적으로 해당 도메인의 IP를 찾아 응답으로 변환한다. IP주소는 사용자의 컴퓨터나 브라우저에 전달되어 사용자가 해당 웹사이트에 적속할 수 있게 한다.
9. 결과 캐싱 : IP주소가 확인되면 이 정보는 향후 조회를 빠르게 처리하기 위해 브라우저 시스템 캐시에 저장된다.
